"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[407],{6407:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var d=a(6252),n=a(3577);const i=e=>((0,d.dD)("data-v-044379ea"),e=e(),(0,d.Cn)(),e),l={class:"container"},o={key:0},c={key:1,class:"editable-row-operations"},s={key:0},u=i((()=>(0,d._)("a",null,"取消",-1))),r={key:1},p=["onClick"],m={key:2,class:"editable-row-operations"},w=i((()=>(0,d._)("a",null,"删除",-1)));function h(e,t,a,i,h,v){const f=(0,d.up)("a-input"),I=(0,d.up)("a-typography-link"),k=(0,d.up)("a-popconfirm"),x=(0,d.up)("a-table");return(0,d.wg)(),(0,d.iD)("div",l,[(0,d.Wm)(x,{columns:e.columns,"data-source":e.dataSource,bordered:""},{bodyCell:(0,d.w5)((({column:t,text:a,record:i})=>[["username","phone","email","status","type"].includes(t.dataIndex)?((0,d.wg)(),(0,d.iD)("div",o,[e.editableData[i.id]?((0,d.wg)(),(0,d.j4)(f,{key:0,value:e.editableData[i.id][t.dataIndex],"onUpdate:value":a=>e.editableData[i.id][t.dataIndex]=a,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):((0,d.wg)(),(0,d.iD)(d.HY,{key:1},[(0,d.Uk)((0,n.zw)(a),1)],64))])):"modify"===t.dataIndex?((0,d.wg)(),(0,d.iD)("div",c,[e.editableData[i.id]?((0,d.wg)(),(0,d.iD)("span",s,[(0,d.Wm)(I,{onClick:t=>e.save(i)},{default:(0,d.w5)((()=>[(0,d.Uk)("保存")])),_:2},1032,["onClick"]),(0,d.Wm)(k,{title:"确认取消?",onConfirm:t=>e.cancel(i.id)},{default:(0,d.w5)((()=>[u])),_:2},1032,["onConfirm"])])):((0,d.wg)(),(0,d.iD)("span",r,[(0,d._)("a",{onClick:t=>e.edit(i.id)},"编辑",8,p)]))])):"delete"===t.dataIndex?((0,d.wg)(),(0,d.iD)("div",m,[(0,d._)("span",null,[(0,d.Wm)(k,{title:"确认删除?","ok-text":"删除","cancel-text":"取消",onConfirm:t=>e.deleteById(i.id)},{default:(0,d.w5)((()=>[w])),_:2},1032,["onConfirm"])])])):(0,d.kq)("",!0)])),_:1},8,["columns","data-source"])])}a(7658);var v=a(8652),f=a(2262),I=a(1446),k=a(196),x=a(3907),g=(0,d.aZ)({name:"UserManager",setup(){const e=(0,x.oR)(),t=[{title:"Id",width:15,dataIndex:"id"},{title:"Name",width:25,dataIndex:"username"},{title:"Account",dataIndex:"account",width:35},{title:"Phone",dataIndex:"phone",width:40},{title:"Email",dataIndex:"email",width:60},{title:"CreateTime",dataIndex:"createTime",width:50},{title:"Status",dataIndex:"status",width:25},{title:"用户类型",dataIndex:"type",width:30},{title:"Action",dataIndex:"modify",width:25},{title:"Action",dataIndex:"delete",width:25}],a=(0,f.iH)([]),n=(0,f.iH)([]),i=()=>{var t=new URLSearchParams;t.append("op","getAllUser"),k.ZP.post(e.state.path+"/info.action",t).then((e=>{if(1==e.data.code){n.value=e.data.data;for(const[e,t]of Object.entries(n.value))console.log(e),a.value.push(t)}else console.log("获取用户信息列表失败")})).catch((function(e){console.log(e)}))},l=(0,f.qj)({}),o=e=>{l[e]=(0,v.Z)(a.value.filter((t=>e===t.id))[0])},c=e=>{Object.assign(a.value.filter((t=>e.id===t.id))[0],l[e.id]),delete l[e.id]},s=e=>{delete l[e]},u=e=>{var t=new URLSearchParams;t.append("op","deleteUser"),t.append("id",e),k.ZP.post("http://localhost:8081/demo/info.action",t).then((t=>{1==t.data.code?(a.value=a.value.filter((t=>e!==t.id)),I.ZP.success("修改用户ID"+e+"成功")):I.ZP.error("修改用户ID"+e+"失败")})).catch((function(e){console.log(e)}))};return(0,d.bv)((()=>{i()})),{dataSource:a,columns:t,editingKey:"",editableData:l,edit:o,save:c,cancel:s,deleteById:u}}}),y=a(3744);const b=(0,y.Z)(g,[["render",h],["__scopeId","data-v-044379ea"]]);var D=b}}]);
//# sourceMappingURL=407.60d3c967.js.map